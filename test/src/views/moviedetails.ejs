<!-- views/movie_details.ejs -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Details</title>
</head>

<style>
    /* Overall styling */
    body {
        font-family: sans-serif;
        background-color: #f2f2f2;
    }

    .details-container {
        width: 500px;
        margin: 0 auto;
        padding: 20px;
    }

    /* Title box */
    .title-box {
        font-size: 24px;
        font-weight: bold;
    }

    /* Genre box */
    .genre-box {
        font-size: 16px;
    }

    /* Release date box */
    .release-date-box {
        font-size: 16px;
    }

    /* Runtime box */
    .runtime-box {
        font-size: 16px;
    }

    /* Budget box */
    .budget-box {
        font-size: 16px;
    }

    /* Revenue box */
    .revenue-box {
        font-size: 16px;
    }

    /* Rating box */
    .rating-box {
        font-size: 16px;
    }

    /* Director box */
    .director-box {
        font-size: 16px;
    }

    /* Actor box */
    .actor-box {
        font-size: 16px;
    }

    /* Producer box */
    .producer-box {
        font-size: 16px;
    }
</style>

<body>
    <div class="details-container">
        <h1>Movie Details</h1>
        <div class="details-box title-box">
            <p><strong>Title:</strong>
                <%= movie.title %>
            </p>
        </div>
        <div class="details-box genre-box">
            <p><strong>Genre:</strong>
                <%= movie.genre %>
            </p>
        </div>
        <div class="details-box release-date-box">
            <p><strong>Release Date:</strong>
                <%= movie.release_date %>
            </p>
        </div>
        <div class="details-box runtime-box">
            <p><strong>Runtime:</strong>
                <%= movie.runtime %> minutes
            </p>
        </div>
        <div class="details-box budget-box">
            <p><strong>Budget:</strong>
                <%= movie.budget %>
            </p>
        </div>
        <div class="details-box revenue-box">
            <p><strong>Revenue:</strong>
                <%= movie.revenue %>
            </p>
        </div>
        <div class="details-box rating-box">
            <p><strong>Rating:</strong>
                <%= movie.rating %>
            </p>
        </div>
        <div class="details-box director-box">
            <p><strong>Director:</strong> <a href="#" onclick="dir_presshandler()">
                    <%= movie.name %>
                </a></p>
        </div>
        <div class="details-box actor-box">
            <p><strong>Actor:</strong> <a href="#" onclick="act_presshandler()">
                    <%= movie.actor_name %>
                </a></p>
        </div>
        <div class="details-box producer-box">
            <p><strong>Producer:</strong> <a href="#" onclick="prod_presshandler()">
                    <%= movie.producer_name %>
                </a></p>
        </div>
    </div>
    <script>
        const dir_presshandler = () => {
            var element = '<%= movie.name %>'
            const encodedval = encodeURIComponent(element)
            window.location.href = 'http://localhost:3001/api/director/' + encodedval;
        }

        const act_presshandler = () => {
            var element = '<%= movie.actor_name %>'
            const encodedval = encodeURIComponent(element)
            window.location.href = 'http://localhost:3001/api/actor/' + encodedval;
        }

        const prod_presshandler = () => {
            var element = '<%= movie.producer_name %>'
            const encodedval = encodeURIComponent(element)
            window.location.href = 'http://localhost:3001/api/producer/' + encodedval;
        }
    </script>
</body>

</html>